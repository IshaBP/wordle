var S=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var u=(t,e,r)=>(S(t,e,"read from private field"),r?r.call(t):e.get(t)),b=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};import{j as I,s as T,r as d,F as g,R as k,a as x}from"./vendor.c41c20c2.js";const M=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};M();const a=I.exports.jsx,R=I.exports.jsxs,N=({code:t,status:e,onClick:r})=>a(v,{onClick:()=>{r(t)},status:e,children:L(t)}),L=t=>t==="<ENT>"?"ENTER":t==="<BKSP>"?"BK":t.toUpperCase(),v=T.button`
  background-color: ${t=>{const{status:e}=t;if(e==="MATCH")return"green";if(e==="PARTIAL_MATCH")return"yellow";if(e==="NO_MATCH")return"grey"}};
`,E=t=>{d.exports.useEffect(()=>{const e=r=>{const s=r.key.toLowerCase();s==="enter"?t("<ENT>"):s==="backspace"?t("<BKSP>"):K(s)&&t(s)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t])},w={a:"a".charCodeAt(0),z:"z".charCodeAt(0)},K=t=>{const e=t.charCodeAt(0);return t.length===1&&w.a<=e&&e<=w.z},H=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["<ENT>","z","x","c","v","b","n","m","<BKSP>"]],O=({keyMatchStatusMap:t,onKey:e})=>(E(e),a("section",{"aria-label":"keyboard",children:H.map((r,s)=>a(P,{keyRow:r,onKey:e,keyMatchStatusMap:t},s))})),P=({keyRow:t,keyMatchStatusMap:e,onKey:r})=>a("div",{"aria-label":"key-row",children:t.map(s=>a(N,{code:s,onClick:r,status:e[s]},s))}),G=({game:t,latestRowStatus:e})=>a(g,{as:"section",column:!0,gap:"1rem","aria-label":"wordboard",children:t.map((r,s)=>a(g,{"aria-label":"guess-word",gap:"1rem",children:r.map((n,o)=>a(_,{"aria-label":"letter",status:n.matchStatus,children:n.matchStatus==="INITIAL"?"":n.key.toUpperCase()},o))},s))}),_=T(g).attrs({center:!0})`
  height: 2rem;
  width: 2rem;
  border: 1px solid black;
  padding: 5px;
  background-color: ${({status:t})=>{if(t==="MATCH")return"green";if(t==="PARTIAL_MATCH")return"yellow";if(t==="NO_MATCH")return"grey"}};
`,j=["angel","baton","beads","baths","basis","glean","nudge","nuked","ounce"],C=t=>j.includes(t),B=()=>"angel",A=(t,e)=>{for(let r=0;r<t.length;r++)e(t[r],r)};var c;class q{constructor(e){b(this,c,new Map);A(e,r=>{this.increment(r)})}has(e){return u(this,c).has(e)&&this.get(e)!==0}get(e){var r;return(r=u(this,c).get(e))!=null?r:0}increment(e){this.has(e)?u(this,c).set(e,this.get(e)+1):u(this,c).set(e,1)}decrement(e){this.has(e)&&u(this,c).set(e,this.get(e)-1)}}c=new WeakMap;const z=(t,e)=>{if(t.length!==e.length)throw new Error("chosenWord and guessWord should be of equal length");if(!C(t)||!C(e))return null;if(t===e)return new Array(t.length).fill("MATCH");const r=new q(t),s=[];return A(e,(n,o)=>{t[o]===n?(s[o]="MATCH",r.decrement(n)):s[o]="NO_MATCH"}),A(e,(n,o)=>{s[o]==="NO_MATCH"&&r.has(n)&&(s[o]="PARTIAL_MATCH",r.decrement(n))}),s},D=()=>{const t=d.exports.useMemo(()=>B(),[]),e=d.exports.useRef(!1),[r,s]=d.exports.useState(U),[n,o]=d.exports.useState(0),[i,p]=d.exports.useState(0);return R("div",{"aria-label":"game",children:[a("span",{children:n}),a("span",{children:i}),a(G,{game:r,latestRowStatus:"IN_PROGRESS"}),a(O,{keyMatchStatusMap:{},onKey:y=>{if(!e.current){if(y==="<BKSP>"){if(i>0){const l=[...r];l[n][i-1]={key:void 0,matchStatus:"INITIAL"},s(l),p(i-1)}}else if(y==="<ENT>"){if(i===5){const l=r[n].map(h=>h.key).join(""),f=z(t,l);if(f){const h=[...r];for(let m=0;m<f.length;m++)h[n][m].matchStatus=f[m];s(h),F(f)?e.current=!0:n<5?(o(n+1),p(0)):e.current=!0}}}else if(i<5){const l=[...r];l[n][i]={key:y,matchStatus:"IN_PROGRESS"},s(l),p(i+1)}}}})]})},F=t=>t.every(e=>e==="MATCH"),U=()=>new Array(6).fill(null).map(()=>new Array(5).fill(null).map(()=>({key:void 0,matchStatus:"INITIAL"}))),$=()=>a("main",{className:"App",children:a(D,{})});k.render(a(x.StrictMode,{children:a($,{})}),document.getElementById("root"));
