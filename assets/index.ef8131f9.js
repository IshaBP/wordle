var L=Object.defineProperty;var b=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var C=(t,e,r)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S=(t,e)=>{for(var r in e||(e={}))R.call(e,r)&&C(t,r,e[r]);if(b)for(var r of b(e))E.call(e,r)&&C(t,r,e[r]);return t};var v=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var h=(t,e,r)=>(v(t,e,"read from private field"),r?r.call(t):e.get(t)),T=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};import{j as N,s as k,r as d,F as I,a as O,R as P,b as F}from"./vendor.4bb1950f.js";const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};H();const a=N.exports.jsx,K=N.exports.jsxs,B=({code:t,status:e,onClick:r})=>a(_,{onClick:()=>{r(t)},status:e,children:G(t)}),G=t=>t==="<ENT>"?"ENTER":t==="<BKSP>"?"BK":t.toUpperCase(),_=k.button`
  background-color: ${({status:t,theme:e})=>t?e.matchStatus[t]:e.matchStatus.INITIAL};
`,j=t=>{d.exports.useEffect(()=>{const e=r=>{const s=r.key.toLowerCase();s==="enter"?t("<ENT>"):s==="backspace"?t("<BKSP>"):q(s)&&t(s)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t])},w={a:"a".charCodeAt(0),z:"z".charCodeAt(0)},q=t=>{const e=t.charCodeAt(0);return t.length===1&&w.a<=e&&e<=w.z},D=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["<ENT>","z","x","c","v","b","n","m","<BKSP>"]],z=({keyMatchStatusMap:t,onKey:e})=>(j(e),a("section",{"aria-label":"keyboard",children:D.map((r,s)=>a(U,{keyRow:r,onKey:e,keyMatchStatusMap:t},s))})),U=({keyRow:t,keyMatchStatusMap:e,onKey:r})=>a("div",{"aria-label":"key-row",children:t.map(s=>a(B,{code:s,onClick:r,status:e[s]},s))}),$=({game:t,latestRowStatus:e})=>a(I,{as:"section",column:!0,gap:"1rem","aria-label":"wordboard",children:t.map((r,s)=>a(I,{"aria-label":"guess-word",gap:"1rem",children:r.map((n,o)=>a(V,{"aria-label":"letter",status:n.matchStatus,children:n.matchStatus==="INITIAL"?"":n.key.toUpperCase()},o))},s))}),V=k(I).attrs({center:!0})`
  height: 2rem;
  width: 2rem;
  border: 1px solid black;
  padding: 5px;
  background-color: ${({status:t,theme:e})=>t==="INITIAL"?void 0:e.matchStatus[t]};
`,W=["allow","angel","baton","beads","baths","basis","glean","nudge","nuked","ounce"],M=t=>W.includes(t),J=()=>"angel",g=(t,e)=>{for(let r=0;r<t.length;r++)e(t[r],r)};var l;class Q{constructor(e){T(this,l,new Map);g(e,r=>{this.increment(r)})}has(e){return h(this,l).has(e)&&this.get(e)!==0}get(e){var r;return(r=h(this,l).get(e))!=null?r:0}increment(e){this.has(e)?h(this,l).set(e,this.get(e)+1):h(this,l).set(e,1)}decrement(e){this.has(e)&&h(this,l).set(e,this.get(e)-1)}}l=new WeakMap;const X=(t,e)=>{if(t.length!==e.length)throw new Error("chosenWord and guessWord should be of equal length");if(!M(t)||!M(e))return null;if(t===e)return new Array(t.length).fill("MATCH");const r=new Q(t),s=[];return g(e,(n,o)=>{t[o]===n?(s[o]="MATCH",r.decrement(n)):s[o]="NO_MATCH"}),g(e,(n,o)=>{s[o]==="NO_MATCH"&&r.has(n)&&(s[o]="PARTIAL_MATCH",r.decrement(n))}),s},Y=()=>{const t=d.exports.useMemo(()=>J(),[]),e=d.exports.useRef(!1),[r,s]=d.exports.useState(ee),[n,o]=d.exports.useState({}),[c,x]=d.exports.useState(0),[i,y]=d.exports.useState(0);return K("div",{"aria-label":"game",children:[a("span",{children:c}),a("span",{children:i}),a($,{game:r,latestRowStatus:"IN_PROGRESS"}),a(z,{keyMatchStatusMap:n,onKey:A=>{if(!e.current){if(A==="<BKSP>"){if(i>0){const u=[...r];u[c][i-1]={key:void 0,matchStatus:"INITIAL"},s(u),y(i-1)}}else if(A==="<ENT>"){if(i===5){const u=r[c].map(m=>m.key).join(""),f=X(t,u);if(f){const m=[...r];for(let p=0;p<f.length;p++)m[c][p].matchStatus=f[p];s(m),o(te(m[c],n)),Z(f)?e.current=!0:c<5?(x(c+1),y(0)):e.current=!0}}}else if(i<5){const u=[...r];u[c][i]={key:A,matchStatus:"IN_PROGRESS"},s(u),y(i+1)}}}})]})},Z=t=>t.every(e=>e==="MATCH"),ee=()=>new Array(6).fill(null).map(()=>new Array(5).fill(null).map(()=>({key:void 0,matchStatus:"INITIAL"}))),te=(t,e)=>{const r={INITIAL:0,IN_PROGRESS:1,NO_MATCH:2,PARTIAL_MATCH:3,MATCH:4},s=(n,o)=>n==null?o:r[n]>r[o]?n:o;for(let{key:n,matchStatus:o}of t)n&&(e[n]=s(e[n],o));return S({},e)},re={textColor:"#FFFFFF",bgColor:"#000000",matchStatus:{INITIAL:"#818384",MATCH:"#538D4E",NO_MATCH:"#3A3A3C",PARTIAL_MATCH:"#B59F3B"}},ne=()=>a(O,{theme:re,children:a("main",{className:"App",children:a(Y,{})})});P.render(a(F.StrictMode,{children:a(ne,{})}),document.getElementById("root"));
