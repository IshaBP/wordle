var I=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var u=(t,e,r)=>(I(t,e,"read from private field"),r?r.call(t):e.get(t)),A=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};import{j as C,r as d,s as S,F as y,R as k,a as x}from"./vendor.2a52a819.js";const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};T();const a=C.exports.jsx,N=C.exports.jsxs,R=({code:t,onClick:e})=>a("button",{onClick:()=>{e(t)},children:L(t)}),L=t=>t==="<ENT>"?"ENTER":t==="<BKSP>"?"BK":t.toUpperCase(),M=t=>{d.exports.useEffect(()=>{const e=r=>{const o=r.key.toLowerCase();o==="enter"?t("<ENT>"):o==="backspace"?t("<BKSP>"):E(o)&&t(o)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t])},b={a:"a".charCodeAt(0),z:"z".charCodeAt(0)},E=t=>{const e=t.charCodeAt(0);return t.length===1&&b.a<=e&&e<=b.z},v=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["<ENT>","z","x","c","v","b","n","m","<BKSP>"]],K=({onKey:t})=>(M(t),a("section",{"aria-label":"keyboard",children:v.map((e,r)=>a(P,{keyRow:e,onKey:t},r))})),P=({keyRow:t,onKey:e})=>a("div",{"aria-label":"key-row",children:t.map(r=>a(R,{code:r,onClick:e},r))}),O=({game:t,latestRowStatus:e})=>a(y,{as:"section",column:!0,gap:"1rem","aria-label":"wordboard",children:t.map((r,o)=>a(y,{"aria-label":"guess-word",gap:"1rem",children:r.map((s,n)=>a(G,{"aria-label":"letter",status:s.matchStatus,children:s.matchStatus==="INITIAL"?"":s.key.toUpperCase()},n))},o))}),G=S(y).attrs({center:!0})`
  height: 2rem;
  width: 2rem;
  border: 1px solid black;
  padding: 5px;
  background-color: ${({status:t})=>{if(t==="MATCH")return"green";if(t==="PARTIAL_MATCH")return"yellow";if(t==="NO_MATCH")return"grey"}};
`,H=["angel","baton","beads","baths","basis","glean","nudge","nuked","ounce"],w=t=>H.includes(t),j=()=>"angel",g=(t,e)=>{for(let r=0;r<t.length;r++)e(t[r],r)};var i;class B{constructor(e){A(this,i,new Map);g(e,r=>{this.increment(r)})}has(e){return u(this,i).has(e)&&this.get(e)!==0}get(e){var r;return(r=u(this,i).get(e))!=null?r:0}increment(e){this.has(e)?u(this,i).set(e,this.get(e)+1):u(this,i).set(e,1)}decrement(e){this.has(e)&&u(this,i).set(e,this.get(e)-1)}}i=new WeakMap;const _=(t,e)=>{if(t.length!==e.length)throw new Error("chosenWord and guessWord should be of equal length");if(!w(t)||!w(e))return null;if(t===e)return new Array(t.length).fill("MATCH");const r=new B(t),o=[];return g(e,(s,n)=>{t[n]===s?(o[n]="MATCH",r.decrement(s)):o[n]="NO_MATCH"}),g(e,(s,n)=>{o[n]==="NO_MATCH"&&r.has(s)&&(o[n]="PARTIAL_MATCH",r.decrement(s))}),o},q=()=>{const t=d.exports.useMemo(()=>j(),[]),[e,r]=d.exports.useState(D),[o,s]=d.exports.useState(0),[n,c]=d.exports.useState(0);return N("div",{"aria-label":"game",children:[a("span",{children:n}),a(O,{game:e,latestRowStatus:"IN_PROGRESS"}),a(K,{onKey:p=>{if(p==="<BKSP>"){if(n>0){const l=[...e];l[o][n-1]={key:void 0,matchStatus:"INITIAL"},r(l),c(n-1)}}else if(p==="<ENT>"){if(n===5){const l=e[o].map(m=>m.key).join(""),f=_(t,l);if(f){const m=[...e];for(let h=0;h<f.length;h++)m[o][h].matchStatus=f[h];r(m),z(f)||(s(o+1),c(0))}}}else if(n<5){const l=[...e];l[o][n]={key:p,matchStatus:"IN_PROGRESS"},r(l),c(n+1)}}})]})},z=t=>t.every(e=>e==="MATCH"),D=()=>new Array(6).fill(null).map(()=>new Array(5).fill(null).map(()=>({key:void 0,matchStatus:"INITIAL"}))),F=()=>a("main",{className:"App",children:a(q,{})});k.render(a(x.StrictMode,{children:a(F,{})}),document.getElementById("root"));
