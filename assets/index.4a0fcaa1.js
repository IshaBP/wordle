var A=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var u=(t,e,r)=>(A(t,e,"read from private field"),r?r.call(t):e.get(t)),p=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};import{j as b,r as d,s as C,F as m,R as k,a as I}from"./vendor.2a52a819.js";const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};S();const a=b.exports.jsx,x=b.exports.jsxs,T=({code:t,onClick:e})=>a("button",{onClick:()=>{e(t)},children:N(t)}),N=t=>t==="<ENT>"?"ENTER":t==="<BKSP>"?"BK":t.toUpperCase(),L=t=>{d.exports.useEffect(()=>{const e=r=>{const o=r.key.toLowerCase();o==="enter"?t("<ENT>"):o==="backspace"?t("<BKSP>"):R(o)&&t(o)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t])},y={a:"a".charCodeAt(0),z:"z".charCodeAt(0)},R=t=>{const e=t.charCodeAt(0);return t.length===1&&y.a<=e&&e<=y.z},M=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["<ENT>","z","x","c","v","b","n","m","<BKSP>"]],E=({onKey:t})=>(L(t),a("section",{"aria-label":"keyboard",children:M.map((e,r)=>a(K,{keyRow:e,onKey:t},r))})),K=({keyRow:t,onKey:e})=>a("div",{"aria-label":"key-row",children:t.map(r=>a(T,{code:r,onClick:e},r))}),v=({game:t,latestRowStatus:e})=>a(m,{as:"section",column:!0,gap:"1rem","aria-label":"wordboard",children:t.map((r,o)=>a(m,{"aria-label":"guess-word",gap:"1rem",children:r.map((s,n)=>a(P,{"aria-label":"letter",status:s.matchStatus,children:s.matchStatus==="INITIAL"?"":s.key.toUpperCase()},n))},o))}),P=C(m).attrs({center:!0})`
  height: 2rem;
  width: 2rem;
  border: 1px solid black;
  padding: 5px;
  background-color: ${({status:t})=>{if(t==="MATCH")return"green";if(t==="PARTIAL_MATCH")return"yellow";if(t==="NO_MATCH")return"grey"}};
`,O=["angel","baton","beads","baths","basis","glean","nudge","nuked","ounce"],g=t=>O.includes(t),j=()=>"angel",h=(t,e)=>{for(let r=0;r<t.length;r++)e(t[r],r)};var i;class H{constructor(e){p(this,i,new Map);h(e,r=>{this.increment(r)})}has(e){return u(this,i).has(e)&&this.get(e)!==0}get(e){var r;return(r=u(this,i).get(e))!=null?r:0}increment(e){this.has(e)?u(this,i).set(e,this.get(e)+1):u(this,i).set(e,1)}decrement(e){this.has(e)&&u(this,i).set(e,this.get(e)-1)}}i=new WeakMap;const B=(t,e)=>{if(t.length!==e.length)throw new Error("chosenWord and guessWord should be of equal length");if(!g(t)||!g(e))return null;if(t===e)return new Array(t.length).fill("MATCH");const r=new H(t),o=[];return h(e,(s,n)=>{t[n]===s?(o[n]="MATCH",r.decrement(s)):o[n]="NO_MATCH"}),h(e,(s,n)=>{o[n]==="NO_MATCH"&&r.has(s)&&(o[n]="PARTIAL_MATCH",r.decrement(s))}),o},G=new Array(6).fill(null).map(()=>new Array(5).fill(null).map(()=>({key:void 0,matchStatus:"INITIAL"}))),_=()=>{const t=d.exports.useMemo(()=>j(),[]),[e,r]=d.exports.useState(G),[o,s]=d.exports.useState(0),[n,l]=d.exports.useState(0);return x("div",{"aria-label":"game",children:[a("span",{children:n}),a(v,{game:e,latestRowStatus:"IN_PROGRESS"}),a(E,{onKey:f=>{if(f==="<BKSP>"){if(n>0){const c=[...e];c[o][n-1]={key:void 0,matchStatus:"INITIAL"},r(c),l(n-1)}}else if(f==="<ENT>"){if(n===5){const c=e[o].map(w=>w.key).join("");B(t,c)}}else if(n<5){const c=[...e];c[o][n]={key:f,matchStatus:"IN_PROGRESS"},r(c),l(n+1)}}})]})},q=()=>a("main",{className:"App",children:a(_,{})});k.render(a(I.StrictMode,{children:a(q,{})}),document.getElementById("root"));
