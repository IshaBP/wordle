var B=Object.defineProperty,F=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var k=(e,t,r)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&k(e,r,t[r]);if(R)for(var r of R(t))j.call(t,r)&&k(e,r,t[r]);return e},d=(e,t)=>F(e,P(t));var G=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var p=(e,t,r)=>(G(e,t,"read from private field"),r?r.call(e):t.get(e)),E=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)};import{j as w,s as L,r as i,Z as D,F as m,a as S,R as A,W as q,b as z,c as W}from"./vendor.37bac7ef.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};U();const a=w.exports.jsx,f=w.exports.jsxs,C=w.exports.Fragment,Y=({code:e,status:t,onClick:r})=>a(V,{"data-code":e,onClick:()=>{r(e)},status:t,specialKey:e==="<ENT>"||e==="<BKSP>",children:$(e)}),$=e=>e==="<ENT>"?"ENTER":e==="<BKSP>"?"BK":e.toUpperCase(),V=L.button.withConfig({displayName:"KeyButton"})(["height:3.5rem;flex:",";margin:0;border:none;outline:none;border-radius:0.25rem;background-color:",";color:",";font-weight:bold;font-size:",";cursor:pointer;user-select:none;"],({specialKey:e})=>e?1.6:1,({status:e,theme:t})=>e?t.bgColor[e]:t.bgColor.INITIAL,({theme:e})=>e.textColor,({specialKey:e})=>e?"0.75rem":"1rem"),N=()=>{const e="animate"in document.body,t=i.exports.useCallback((r,s,n)=>{e&&r&&r.animate(s,n)},[]);return[e,t]},Z=()=>{const e=D(),[t,r]=N();return i.exports.useCallback(s=>{if(t){const n=document.querySelector(`[aria-label=keyboard] button[data-code="${s}"]`);r(n,[{backgroundColor:e.bgColor.KEY_PRESS}],100)}},[e])},J=e=>{i.exports.useEffect(()=>{const t=r=>{const s=r.key.toLowerCase();r.altKey||r.ctrlKey||(s==="enter"?e("<ENT>"):s==="backspace"?e("<BKSP>"):Q(s)&&e(s))};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e])},M={a:"a".charCodeAt(0),z:"z".charCodeAt(0)},Q=e=>{const t=e.charCodeAt(0);return e.length===1&&M.a<=t&&t<=M.z},X=()=>{"vibrate"in navigator&&navigator.vibrate(20)},ee=()=>X,te=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["<ENT>","z","x","c","v","b","n","m","<BKSP>"]],re=({keyMatchStatusMap:e,onKey:t})=>{const r=Z(),s=ee(),n=i.exports.useCallback(o=>{t(o),r(o),s()},[t,r,s]);return J(n),a(m,{as:"section","aria-label":"keyboard",gap:"0.25rem",column:!0,width:"100%",children:te.map((o,c)=>a(ne,{rowIndex:c,keyRow:o,onKey:n,keyMatchStatusMap:e},c))})},ne=({rowIndex:e,keyRow:t,keyMatchStatusMap:r,onKey:s})=>f(m,{"aria-label":"key-row",gap:"0.25rem",center:!0,width:"100%",children:[e===1&&a(S,{flex:.5}),t.map(n=>a(Y,{code:n,onClick:s,status:r[n]},n)),e===1&&a(S,{flex:.5})]}),oe=(e,t)=>{const r=i.exports.useRef(0),[s,n]=N();i.exports.useEffect(()=>{if(s&&e.current)if(t.length===0)r.current=0;else if(t.length===r.current+1){const o=e.current.querySelector(`[aria-label=letter]:nth-child(${r.current+1})`);n(o,[{transform:"scale(1.1)"}],100),r.current+=1}else r.current-=1},[e,t])},T=i.exports.forwardRef(function({type:t,row:r},s){return a(m,{ref:s,gap:"0.5rem","aria-label":"guess-word","data-word-type":t,children:t==="accepted"?r.map((n,o)=>a(I,{"aria-label":"letter",status:n.matchStatus,children:n.key},o)):r.map((n,o)=>a(I,{"aria-label":"letter",$highlightBorder:t==="current"&&n!=="",children:n},o))})}),I=L(m).attrs({center:!0}).withConfig({displayName:"Letter"})(["height:3.5rem;width:3.5rem;border:2px solid ",";background-color:",";font-size:2rem;font-weight:bold;text-transform:uppercase;"],({$highlightBorder:e,status:t,theme:r})=>t?"transparent":e?r.borderColor.HIGHLIGHT:r.borderColor.INITIAL,({status:e,theme:t})=>e?t.bgColor[e]:void 0),H=5,se=6,ae=({acceptedRows:e,currentRow:t})=>{const r=se-e.length;return f(m,{as:"section",column:!0,gap:"0.5rem","aria-label":"wordboard",children:[a(ce,{acceptedRows:e}),r>0&&f(C,{children:[a(ie,{currentRow:t}),a(le,{numberOfRows:r-1})]})]})},ce=A.memo(function({acceptedRows:t}){return a(C,{children:t.map((r,s)=>a(T,{type:"accepted",row:r},s))})}),ie=({currentRow:e})=>{const t=i.exports.useRef(null);oe(t,e);const r=[...e,...new Array(H-e.length).fill("")];return a(T,{ref:t,type:"current",row:r})},le=A.memo(function({numberOfRows:t}){const r=Array.from({length:t},()=>new Array(H).fill(""));return a(C,{children:r.map((s,n)=>a(T,{type:"empty",row:s},n))})}),ue=["allow","angel","baton","beads","baths","basis","glean","nudge","nuked","ounce"],K=e=>ue.includes(e),de=()=>"angel",b=(e,t)=>{for(let r=0;r<e.length;r++)t(e[r],r)};var l;class pe{constructor(t){E(this,l,new Map);b(t,r=>{this.increment(r)})}has(t){return p(this,l).has(t)&&this.get(t)!==0}get(t){var r;return(r=p(this,l).get(t))!=null?r:0}increment(t){this.has(t)?p(this,l).set(t,this.get(t)+1):p(this,l).set(t,1)}decrement(t){this.has(t)&&p(this,l).set(t,this.get(t)-1)}}l=new WeakMap;const me=(e,t)=>{if(e.length!==t.length)throw new Error("chosenWord and guessWord should be of equal length");if(!K(e)||!K(t))return null;if(e===t)return new Array(e.length).fill("MATCH");const r=new pe(e),s=[];return b(t,(n,o)=>{e[o]===n?(s[o]="MATCH",r.decrement(n)):s[o]="NO_MATCH"}),b(t,(n,o)=>{s[o]==="NO_MATCH"&&r.has(n)&&(s[o]="PARTIAL_MATCH",r.decrement(n))}),s},he={gameOver:!1,acceptedRows:[],currentRow:[],keyStatusMap:{}},fe=(e,t)=>{const{currentRow:r,acceptedRows:s,keyStatusMap:n}=e,o=r.length,c=s.length;switch(t.type){case"BKSP":return o>0?d(u({},e),{currentRow:r.slice(0,-1)}):e;case"ENT":if(o===5){const h=r.join(""),g=me(t.chosenWord,h);if(g){const x=g.map((v,O)=>({key:r[O],matchStatus:v})),y=d(u({},e),{acceptedRows:[...s,x],currentRow:[],keyStatusMap:ye(x,n)});return ge(g)?d(u({},y),{gameOver:!0}):c<5?y:d(u({},y),{gameOver:!0})}}return e;case"LETTER":return r.length<5?d(u({},e),{currentRow:[...r,t.code]}):e}},ge=e=>e.every(t=>t==="MATCH"),ye=(e,t)=>{const r={NO_MATCH:1,PARTIAL_MATCH:2,MATCH:3},s=(o,c)=>o==null?c:r[o]>r[c]?o:c,n=u({},t);for(const{key:o,matchStatus:c}of e)n[o]=s(n[o],c);return n},be=()=>{const e=i.exports.useMemo(()=>de(),[]),[{gameOver:t,acceptedRows:r,currentRow:s,keyStatusMap:n},o]=i.exports.useReducer(fe,he),c=i.exports.useCallback(h=>{t||o(h==="<BKSP>"?{type:"BKSP"}:h==="<ENT>"?{type:"ENT",chosenWord:e}:{type:"LETTER",code:h})},[t,o,e]);return f(m,{"aria-label":"game",column:!0,height:"100%",alignItems:"center",justifyContent:"space-around",padding:"0 0.75rem",children:[a(ae,{acceptedRows:r,currentRow:s}),a(re,{keyMatchStatusMap:n,onKey:c})]})},we={textColor:"#FFFFFF",borderColor:{INITIAL:"#3A3A3C",HIGHLIGHT:"#565758"},bgColor:{BODY:"#000000",INITIAL:"#818384",MATCH:"#538D4E",NO_MATCH:"#3A3A3C",PARTIAL_MATCH:"#B59F3B",KEY_PRESS:"#545556"}},Ae=q(["html{font-family:system-ui;box-sizing:border-box;height:100%;overflow:hidden;}body{color:",";background-color:",";height:100%;overflow:hidden;margin:0;}.App{max-width:516px;margin:auto;}#root,.App{height:100%;}input,textarea,button,select,a{-webkit-tap-highlight-color:transparent;}"],e=>e.theme.textColor,e=>e.theme.bgColor.BODY),Ce=()=>f(z,{theme:we,children:[a(Ae,{}),a("main",{className:"App",children:a(be,{})})]});W.render(a(A.StrictMode,{children:a(Ce,{})}),document.getElementById("root"));
