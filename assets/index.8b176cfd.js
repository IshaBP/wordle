var B=Object.defineProperty,F=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var R=(e,t,r)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&R(e,r,t[r]);if(k)for(var r of k(t))j.call(t,r)&&R(e,r,t[r]);return e},d=(e,t)=>F(e,P(t));var G=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var m=(e,t,r)=>(G(e,t,"read from private field"),r?r.call(e):t.get(e)),E=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)};import{j as w,s as L,r as i,Z as D,F as h,a as M,R as A,W as q,b as z,c as W}from"./vendor.37bac7ef.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};U();const a=w.exports.jsx,f=w.exports.jsxs,C=w.exports.Fragment,Y=({code:e,status:t,onClick:r})=>a(V,{"data-code":e,onClick:()=>{r(e)},status:t,specialKey:e==="<ENT>"||e==="<BKSP>",children:$(e)}),$=e=>e==="<ENT>"?"ENTER":e==="<BKSP>"?"BK":e.toUpperCase(),V=L.button.withConfig({displayName:"KeyButton"})(["height:3.5rem;flex:",";margin:0;border:none;outline:none;border-radius:0.25rem;background-color:",";color:",";font-weight:bold;font-size:",";cursor:pointer;user-select:none;"],({specialKey:e})=>e?1.6:1,({status:e,theme:t})=>e?t.bgColor[e]:t.bgColor.INITIAL,({theme:e})=>e.textColor,({specialKey:e})=>e?"0.75rem":"1rem"),N=()=>i.exports.useCallback((e,t,r)=>{"animate"in document.body&&e&&e.animate(t,r)},[]),Z=()=>{const e=D(),t=N();return i.exports.useCallback(r=>{const o=document.querySelector(`[aria-label=keyboard] button[data-code="${r}"]`);t(o,[{backgroundColor:e.bgColor.KEY_PRESS}],100)},[e])},J=e=>{i.exports.useEffect(()=>{const t=r=>{const o=r.key.toLowerCase();r.altKey||r.ctrlKey||(o==="enter"?e("<ENT>"):o==="backspace"?e("<BKSP>"):Q(o)&&e(o))};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e])},I={a:"a".charCodeAt(0),z:"z".charCodeAt(0)},Q=e=>{const t=e.charCodeAt(0);return e.length===1&&I.a<=t&&t<=I.z},X=()=>{"vibrate"in navigator&&navigator.vibrate(20)},ee=()=>X,te=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["<ENT>","z","x","c","v","b","n","m","<BKSP>"]],re=({keyMatchStatusMap:e,onKey:t})=>{const r=Z(),o=ee(),n=i.exports.useCallback(s=>{t(s),r(s),o()},[t,r,o]);return J(n),a(h,{as:"section","aria-label":"keyboard",gap:"0.25rem",column:!0,width:"100%",children:te.map((s,c)=>a(ne,{rowIndex:c,keyRow:s,onKey:n,keyMatchStatusMap:e},c))})},ne=({rowIndex:e,keyRow:t,keyMatchStatusMap:r,onKey:o})=>f(h,{"aria-label":"key-row",gap:"0.25rem",center:!0,width:"100%",children:[e===1&&a(M,{flex:.5}),t.map(n=>a(Y,{code:n,onClick:o,status:r[n]},n)),e===1&&a(M,{flex:.5})]}),oe=(e,t)=>{const r=i.exports.useRef(0),o=N();i.exports.useEffect(()=>{if(e.current)if(t.length===0)r.current=0;else if(t.length===r.current+1){const n=e.current.querySelector(`[aria-label=letter]:nth-child(${r.current+1})`);o(n,[{transform:"scale(1.1)"}],100),r.current+=1}else r.current-=1},[e,t])},T=i.exports.forwardRef(({type:e,row:t},r)=>a(h,{ref:r,gap:"0.5rem","aria-label":"guess-word","data-word-type":e,children:e==="accepted"?t.map((o,n)=>a(S,{"aria-label":"letter",status:o.matchStatus,children:o.key},n)):t.map((o,n)=>a(S,{"aria-label":"letter",$highlightBorder:e==="current"&&o!=="",children:o},n))})),S=L(h).attrs({center:!0}).withConfig({displayName:"Letter"})(["height:3.5rem;width:3.5rem;border:2px solid ",";background-color:",";font-size:2rem;font-weight:bold;text-transform:uppercase;"],({$highlightBorder:e,status:t,theme:r})=>t?"transparent":e?r.borderColor.HIGHLIGHT:r.borderColor.INITIAL,({status:e,theme:t})=>e?t.bgColor[e]:void 0),H=5,se=6,ae=({acceptedRows:e,currentRow:t})=>{const r=se-e.length;return f(h,{as:"section",column:!0,gap:"0.5rem","aria-label":"wordboard",children:[a(ce,{acceptedRows:e}),r>0&&f(C,{children:[a(ie,{currentRow:t}),a(le,{numberOfRows:r-1})]})]})},ce=A.memo(({acceptedRows:e})=>a(C,{children:e.map((t,r)=>a(T,{type:"accepted",row:t},r))})),ie=({currentRow:e})=>{const t=i.exports.useRef(null);oe(t,e);const r=[...e,...new Array(H-e.length).fill("")];return a(T,{ref:t,type:"current",row:r})},le=A.memo(({numberOfRows:e})=>{const t=Array.from({length:e},()=>new Array(H).fill(""));return a(C,{children:t.map((r,o)=>a(T,{type:"empty",row:r},o))})}),ue=["allow","angel","baton","beads","baths","basis","glean","nudge","nuked","ounce"],K=e=>ue.includes(e),de=()=>"angel",b=(e,t)=>{for(let r=0;r<e.length;r++)t(e[r],r)};var l;class me{constructor(t){E(this,l,new Map);b(t,r=>{this.increment(r)})}has(t){return m(this,l).has(t)&&this.get(t)!==0}get(t){var r;return(r=m(this,l).get(t))!=null?r:0}increment(t){this.has(t)?m(this,l).set(t,this.get(t)+1):m(this,l).set(t,1)}decrement(t){this.has(t)&&m(this,l).set(t,this.get(t)-1)}}l=new WeakMap;const he=(e,t)=>{if(e.length!==t.length)throw new Error("chosenWord and guessWord should be of equal length");if(!K(e)||!K(t))return null;if(e===t)return new Array(e.length).fill("MATCH");const r=new me(e),o=[];return b(t,(n,s)=>{e[s]===n?(o[s]="MATCH",r.decrement(n)):o[s]="NO_MATCH"}),b(t,(n,s)=>{o[s]==="NO_MATCH"&&r.has(n)&&(o[s]="PARTIAL_MATCH",r.decrement(n))}),o},pe={gameOver:!1,acceptedRows:[],currentRow:[],keyStatusMap:{}},fe=(e,t)=>{const{currentRow:r,acceptedRows:o,keyStatusMap:n}=e,s=r.length,c=o.length;switch(t.type){case"BKSP":return s>0?d(u({},e),{currentRow:r.slice(0,-1)}):e;case"ENT":if(s===5){const p=r.join(""),g=he(t.chosenWord,p);if(g){const x=g.map((v,O)=>({key:r[O],matchStatus:v})),y=d(u({},e),{acceptedRows:[...o,x],currentRow:[],keyStatusMap:ye(x,n)});return ge(g)?d(u({},y),{gameOver:!0}):c<5?y:d(u({},y),{gameOver:!0})}}return e;case"LETTER":return r.length<5?d(u({},e),{currentRow:[...r,t.code]}):e}},ge=e=>e.every(t=>t==="MATCH"),ye=(e,t)=>{const r={NO_MATCH:1,PARTIAL_MATCH:2,MATCH:3},o=(s,c)=>s==null?c:r[s]>r[c]?s:c,n=u({},t);for(let{key:s,matchStatus:c}of e)n[s]=o(n[s],c);return n},be=()=>{const e=i.exports.useMemo(()=>de(),[]),[{gameOver:t,acceptedRows:r,currentRow:o,keyStatusMap:n},s]=i.exports.useReducer(fe,pe),c=i.exports.useCallback(p=>{t||s(p==="<BKSP>"?{type:"BKSP"}:p==="<ENT>"?{type:"ENT",chosenWord:e}:{type:"LETTER",code:p})},[t,s,e]);return f(h,{"aria-label":"game",column:!0,height:"100%",alignItems:"center",justifyContent:"space-around",padding:"0 0.75rem",children:[a(ae,{acceptedRows:r,currentRow:o}),a(re,{keyMatchStatusMap:n,onKey:c})]})},we={textColor:"#FFFFFF",borderColor:{INITIAL:"#3A3A3C",HIGHLIGHT:"#565758"},bgColor:{BODY:"#000000",INITIAL:"#818384",MATCH:"#538D4E",NO_MATCH:"#3A3A3C",PARTIAL_MATCH:"#B59F3B",KEY_PRESS:"#545556"}},Ae=q(["html{font-family:system-ui;box-sizing:border-box;height:100%;overflow:hidden;}body{color:",";background-color:",";height:100%;overflow:hidden;margin:0;}.App{max-width:516px;margin:auto;}#root,.App{height:100%;}input,textarea,button,select,a{-webkit-tap-highlight-color:transparent;}"],e=>e.theme.textColor,e=>e.theme.bgColor.BODY),Ce=()=>f(z,{theme:we,children:[a(Ae,{}),a("main",{className:"App",children:a(be,{})})]});W.render(a(A.StrictMode,{children:a(Ce,{})}),document.getElementById("root"));
