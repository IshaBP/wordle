var x=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var u=(t,e,r)=>(x(t,e,"read from private field"),r?r.call(t):e.get(t)),b=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};import{j as I,r as d,s as S,F as g,R as k,a as T}from"./vendor.2a52a819.js";const R=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};R();const a=I.exports.jsx,N=I.exports.jsxs,L=({code:t,onClick:e})=>a("button",{onClick:()=>{e(t)},children:M(t)}),M=t=>t==="<ENT>"?"ENTER":t==="<BKSP>"?"BK":t.toUpperCase(),E=t=>{d.exports.useEffect(()=>{const e=r=>{const o=r.key.toLowerCase();o==="enter"?t("<ENT>"):o==="backspace"?t("<BKSP>"):v(o)&&t(o)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t])},w={a:"a".charCodeAt(0),z:"z".charCodeAt(0)},v=t=>{const e=t.charCodeAt(0);return t.length===1&&w.a<=e&&e<=w.z},K=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["<ENT>","z","x","c","v","b","n","m","<BKSP>"]],O=({onKey:t})=>(E(t),a("section",{"aria-label":"keyboard",children:K.map((e,r)=>a(P,{keyRow:e,onKey:t},r))})),P=({keyRow:t,onKey:e})=>a("div",{"aria-label":"key-row",children:t.map(r=>a(L,{code:r,onClick:e},r))}),G=({game:t,latestRowStatus:e})=>a(g,{as:"section",column:!0,gap:"1rem","aria-label":"wordboard",children:t.map((r,o)=>a(g,{"aria-label":"guess-word",gap:"1rem",children:r.map((n,s)=>a(H,{"aria-label":"letter",status:n.matchStatus,children:n.matchStatus==="INITIAL"?"":n.key.toUpperCase()},s))},o))}),H=S(g).attrs({center:!0})`
  height: 2rem;
  width: 2rem;
  border: 1px solid black;
  padding: 5px;
  background-color: ${({status:t})=>{if(t==="MATCH")return"green";if(t==="PARTIAL_MATCH")return"yellow";if(t==="NO_MATCH")return"grey"}};
`,j=["angel","baton","beads","baths","basis","glean","nudge","nuked","ounce"],C=t=>j.includes(t),B=()=>"angel",A=(t,e)=>{for(let r=0;r<t.length;r++)e(t[r],r)};var c;class _{constructor(e){b(this,c,new Map);A(e,r=>{this.increment(r)})}has(e){return u(this,c).has(e)&&this.get(e)!==0}get(e){var r;return(r=u(this,c).get(e))!=null?r:0}increment(e){this.has(e)?u(this,c).set(e,this.get(e)+1):u(this,c).set(e,1)}decrement(e){this.has(e)&&u(this,c).set(e,this.get(e)-1)}}c=new WeakMap;const q=(t,e)=>{if(t.length!==e.length)throw new Error("chosenWord and guessWord should be of equal length");if(!C(t)||!C(e))return null;if(t===e)return new Array(t.length).fill("MATCH");const r=new _(t),o=[];return A(e,(n,s)=>{t[s]===n?(o[s]="MATCH",r.decrement(n)):o[s]="NO_MATCH"}),A(e,(n,s)=>{o[s]==="NO_MATCH"&&r.has(n)&&(o[s]="PARTIAL_MATCH",r.decrement(n))}),o},z=()=>{const t=d.exports.useMemo(()=>B(),[]),e=d.exports.useRef(!1),[r,o]=d.exports.useState(F),[n,s]=d.exports.useState(0),[i,p]=d.exports.useState(0);return N("div",{"aria-label":"game",children:[a("span",{children:n}),a("span",{children:i}),a(G,{game:r,latestRowStatus:"IN_PROGRESS"}),a(O,{onKey:y=>{if(!e.current){if(y==="<BKSP>"){if(i>0){const l=[...r];l[n][i-1]={key:void 0,matchStatus:"INITIAL"},o(l),p(i-1)}}else if(y==="<ENT>"){if(i===5){const l=r[n].map(m=>m.key).join(""),f=q(t,l);if(f){const m=[...r];for(let h=0;h<f.length;h++)m[n][h].matchStatus=f[h];o(m),D(f)?e.current=!0:n<5?(s(n+1),p(0)):e.current=!0}}}else if(i<5){const l=[...r];l[n][i]={key:y,matchStatus:"IN_PROGRESS"},o(l),p(i+1)}}}})]})},D=t=>t.every(e=>e==="MATCH"),F=()=>new Array(6).fill(null).map(()=>new Array(5).fill(null).map(()=>({key:void 0,matchStatus:"INITIAL"}))),U=()=>a("main",{className:"App",children:a(z,{})});k.render(a(T.StrictMode,{children:a(U,{})}),document.getElementById("root"));
